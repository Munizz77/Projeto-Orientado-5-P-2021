<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="editar.css">
    <title>Editar Dados</title>
   
    <script src="paginaInicial.js"></script>

    <script src="https://code.jquery.com/jquery-1.9.1.js"></script>

    <script>

         $(document).ready(function() {


            $("#btn-enviar-id").click(function(){
                let pesquisaId = $('#pesquisaID').val();
                let id = [pesquisaId];
                getAgendaUnica(id);
            });
              
   
             $("#btn-mostra-alteracao").click(function(){
                

                let html = `
                     <input id="nome" type="text" placeholder="Novo Nome" />
                     <input id="telefoneResidencial" type="text" placeholder="Novo Telefone Residencial" />
                     <input id="telefoneCelular" type="text" placeholder="Novo Telefone Celular" />
                     <input id="email" type="text" placeholder="Novo Email" />
                     <input id="data" type="text" placeholder="Nova Data" />
                     <br>
                     <button  id="btn-enviar-alteracao" type="submit">Enviar novas alterações</button>

                `;
      
                document.querySelector("#resultados").innerHTML = html;

                //Criando a função do botão que enviará os novos registros
                $("#btn-enviar-alteracao").click(function(){
                    //atribuindo os novos registros digitado pelo usuário em novas variáveis
                    let nome2 = $('#nome').val();
                    let cellcasa2 = $('#telefoneResidencial').val();
                    let celular2 = $('#telefoneCelular').val();
                    let email2 = $('#email').val();
                    let data2 = $('#data').val();

                   //pegando ID para fazer a alteração correta no registro que o usuário informou 
                    let pesquisaId = $('#pesquisaID').val();
                    let id =pesquisaId;

                    //Colocando os dados como parâmetro na função alteraAgenda
                    alteraAgenda(id,nome2,cellcasa2,celular2,email2,data2);
                });


            });


        });

            
    </script>

</head>

<body>
    
    <section class="conteudo">
        <section class="main">

            <div class="titulo">
               <h1>Nº DE REGISTRO # ======</h1>
            </div>

            <div class="voltar">
                <a href="paginaInicial.html"><img src="imagens/voltar.png" width="50" height="50"></a>
            </div>


                <div class="mostrarAgenda">

                    <input id="pesquisaID" type="text" placeholder=" " required="required"/>

                    <button  id="btn-enviar-id" type="submit">VER REGISTRO</button>


                     <div id="aquimesmo"></div>

                    <button  id="btn-mostra-alteracao" type="submit">MODIFICAR</button>
                    

                    <div id="resultados"></div>

                </div>
        </section>             
    </section>
    


</body>
</html>